{% load static %}
<!DOCTYPE html>
<html lang="sw">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Wasiliana Nasi - Performance Finance</title>

  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600;800&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
    body {
      background: #fff;
      color: #222;
      line-height: 1.6;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    a { color: inherit; text-decoration: none; }

    /* Header/Navbar */
    header {
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      background: rgba(46, 125, 50, 0.95);
      display: flex; justify-content: space-between; align-items: center;
      padding: 15px 30px;
      z-index: 10000;
      box-shadow: 0 2px 8px rgb(0 0 0 / 0.15);
    }
    .logo { display: flex; align-items: center; gap: 10px; font-weight: 700; font-size: 1.8rem; color: #FDD835; letter-spacing: 1px; user-select: none; }
    .logo img { height: 40px; width: 40px; object-fit: contain; border-radius: 8px; box-shadow: 0 2px 6px rgba(253, 216, 53, 0.7); }
    
    nav ul { list-style: none; display: flex; gap: 25px; position: relative; }
    nav ul li a {
      font-weight: 600; font-size: 1rem; color: white;
      padding: 8px 12px; border-radius: 6px;
      transition: background-color 0.3s ease, color 0.3s ease;
    }
    nav ul li a:hover, nav ul li a:focus { background-color: #FDD835; color: #2E7D32; outline: none; }

    /* Dropdown */
    nav ul li.dropdown { position: relative; cursor: pointer; user-select: none; }
    nav ul li.dropdown .arrow { margin-left: 5px; transition: transform 0.3s ease; display: inline-block; }
    nav ul li.dropdown ul.dropdown-menu {
      max-height: 0; overflow: hidden; transition: max-height 0.4s ease;
      position: absolute; top: 100%; left: 0;
      background: rgba(46,125,50,0.95); flex-direction: column;
      min-width: 200px; border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      z-index: 999;
    }
    nav ul li.dropdown .dropdown-menu li a {
      padding: 10px 15px; display: block; color: white; font-weight: 500;
      transition: background 0.3s, color 0.3s;
    }
    nav ul li.dropdown .dropdown-menu li a:hover { background: #FDD835; color: #2E7D32; }
    nav ul li.dropdown:hover .dropdown-menu { max-height: 500px; }
    nav ul li.dropdown:hover .arrow { transform: rotate(90deg); }

    /* Hamburger (Mobile) */
    .hamburger { display: none; flex-direction: column; gap: 5px; cursor: pointer; }
    .hamburger div { width: 28px; height: 3px; background: white; border-radius: 3px; transition: 0.3s; }

    @media (max-width: 768px) {
      nav ul {
        display: none; flex-direction: column; position: absolute;
        top: 60px; right: 20px; background: rgba(46, 125, 50, 0.95);
        width: 180px; padding: 15px 0;
        border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.2);
      }
      nav ul.show { display: flex; }
      nav ul li .dropdown-menu { position: relative; top: 0; left: 0; box-shadow: none; border-radius: 0; }
      .hamburger { display: flex; }
    }

    /* Hero */
    .hero-section {
      margin-top: 80px;
      text-align: center;
      padding: 60px 20px;
      background: #E8F5E9;
    }
    .hero-section h1 { color: #2e7d32; font-size: 2.5rem; margin-bottom: 10px; }
    .hero-section .subtitle { color: #4a7c32; font-size: 1.2rem; }

    /* Contact Info */
    .info-boxes {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 25px;
      padding: 40px 20px;
    }
.info-box {
  /* flexible box: itaweza kupanuka/kupunguka vizuri kwenye screens tofauti */
  flex: 1 1 220px;    /* grow 1, shrink 1, base 220px */
  min-width: 200px;
  max-width: 320px;
  background: #F1F8E9;
  border-radius: 12px;
  padding: 20px;
  text-align: center;
  box-shadow: 0 4px 10px rgba(46,125,50,0.2);

  /* muhimu: ruhusu maneno marefu kuvunjwa (email, URLs) badala ya kukatwa */
  word-break: break-word;
  overflow-wrap: anywhere;
  white-space: normal;
}
   .info-box i {
  font-size: 1.8rem;
  color: #2E7D32;
  margin-bottom: 10px;
  display: block;
}
.info-box p {
  margin-top: 8px;
  line-height: 1.4;
  color: #233;
}
    /* Contact Form */
    .contact-form {
      max-width: 800px;
      margin: 0 auto 50px;
      padding: 30px;
      background: #E8F5E9;
      border-radius: 12px;
      box-shadow: 0 6px 15px rgba(46,125,50,0.15);
    }
    .contact-form h2 { color: #2E7D32; margin-bottom: 10px; }
    .contact-form .helper { color: #4a7c32; margin-bottom: 20px; }
    .form-row { display: flex; gap: 20px; flex-wrap: wrap; }
    .form-group { flex: 1; display: flex; flex-direction: column; margin-bottom: 15px; }
    .form-group label { margin-bottom: 5px; font-weight: 600; color: #2E7D32; }
    .form-group input, .form-group textarea {
      padding: 10px; border: 1px solid #ccc; border-radius: 6px; font-size: 1rem;
    }
    .consent { display: flex; align-items: center; gap: 10px; margin: 15px 0; font-size: 0.9rem; color: #2E7D32; }
    .btn-submit {
      background: #2E7D32; color: white; border: none;
      padding: 12px 24px; border-radius: 6px; font-weight: 600;
      cursor: pointer; transition: background 0.3s;
    }
    .btn-submit:hover { background: #FDD835; color: #2E7D32; }

    /* Map */
    .map-container { max-width: 1000px; margin: 0 auto 50px; }
    .map-container iframe { width: 100%; height: 450px; border: none; border-radius: 12px; }
        footer {
            background: linear-gradient(to right, #1b5e20, #2e7d32);
            color: white;
            padding: 50px 0 20px;
        }
        
        .footer-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .footer-section h3 {
            font-size: 22px;
            margin-bottom: 20px;
            position: relative;
            padding-bottom: 10px;
        }
        
        .footer-section h3:after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 50px;
            height: 3px;
            background-color: #ff8c00;
        }
        
        .footer-section p, .footer-section a {
            margin-bottom: 15px;
            display: block;
            color: #e0e0e0;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-section a:hover {
            color: #ff8c00;
            padding-left: 5px;
        }
        
        .footer-section i {
            width: 25px;
            margin-right: 10px;
            color: #ff8c00;
        }
        
        .social-icons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        .social-icons a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            transition: all 0.3s;
        }
        
        .social-icons a:hover {
            background-color: #ff8c00;
            transform: translateY(-3px);
        }
        
        .copyright {
            text-align: center;
            padding-top: 30px;
            margin-top: 40px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 14px;
            color: #ccc;
        }
        
        .copyright a {
            color: #ff8c00;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .copyright a:hover {
            text-decoration: underline;
        }
        
        .creator {
            display: block;
            margin-top: 10px;
            font-style: italic;
            color: #aaa;
        }
        
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
  </style>
</head>
<body>
  <header>
    <div class="logo" aria-label="Performance Finance logo">
      <img src="{% static 'image/logo.jpg' %}" alt="Performance Finance Logo" />
      Performance Finance
    </div>
    <nav>
      {% include "nav/navigation.html" %}
    </nav>
    <div class="hamburger" aria-label="Toggle menu" role="button" tabindex="0" onclick="toggleMenu()" onkeypress="if(event.key==='Enter'){toggleMenu();}">
      <div></div><div></div><div></div>
    </div>
  </header>

  <!-- Hero -->
  <div class="hero-section">
    <h1>Wasiliana Nasi</h1>
    <p class="subtitle">Tuna furaha kukusaidia! Tafadhali wasiliana nasi kwa njia yoyote unayotaka.</p>
  </div>

  <main>
    {% if messages %}
      {% for message in messages %}
        <div class="alert {% if message.tags %}alert-{{ message.tags }}{% endif %}">{{ message }}</div>
      {% endfor %}
    {% endif %}

    <!-- Contact Info -->
>
    <div class="info-boxes">
      <div class="info-box">
        <i class="fas fa-phone-alt"></i>
        <h3>Piga Simu</h3>
        <p>+255 758 239 106</p>
      </div>
      <div class="info-box">
        <i class="fas fa-envelope"></i>
        <h3>Tuma Barua Pepe</h3>
        <p>per.finance2023@gmail.com</p>
      </div>
      <div class="info-box">
        <i class="fas fa-map-marker-alt"></i>
        <h3>Tembelea Ofisi</h3>
        <p>Block T, Mbeya, Tanzania</p>
      </div>
      <div class="info-box">
        <i class="fas fa-clock"></i>
        <h3>Masaa Ya Kazi</h3>
        <p>Jumatatu - Ijumaa<br>8:00AM - 4:00PM</p>
        <p>Jumamosi <br>8:00AM - 1:00PM</p>
      </div>
    </div>


    <!-- Contact Form -->
    <form class="contact-form" method="post" action="{% url 'contact' %}" novalidate>
      {% csrf_token %}
      <input type="text" name="website" tabindex="-1" autocomplete="off" style="position:absolute; left:-9999px; opacity:0;" aria-hidden="true">

      <h2>Tuma Ujumbe</h2>
      <p class="helper">Jaza fomu hapa chini, tutakujibu haraka iwezekanavyo.</p>

      {{ form.non_field_errors }}
      <div class="form-row">
        <div class="form-group">
          <label for="id_name">Jina kamili</label>
          <input id="id_name" name="name" type="text" required maxlength="120" value="{{ form.name.value|default_if_none:'' }}" placeholder="Mf. Amina John" />
          {{ form.name.errors }}
        </div>
        <div class="form-group">
          <label for="id_email">Barua pepe</label>
          <input id="id_email" name="email" type="email" required maxlength="120" value="{{ form.email.value|default_if_none:'' }}" placeholder="mfano@domain.tz" />
          {{ form.email.errors }}
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="id_phone">Simu (hiari)</label>
          <input id="id_phone" name="phone" type="tel" maxlength="30" value="{{ form.phone.value|default_if_none:'' }}" placeholder="+255 7XX XXX XXX" />
          {{ form.phone.errors }}
        </div>
        <div class="form-group">
          <label for="id_subject">Mada</label>
          <input id="id_subject" name="subject" type="text" required maxlength="150" value="{{ form.subject.value|default_if_none:'' }}" placeholder="Mada ya ujumbe" />
          {{ form.subject.errors }}
        </div>
      </div>

      <div class="form-group">
        <label for="id_message">Ujumbe</label>
        <textarea id="id_message" name="message" rows="6" required placeholder="Andika ujumbe wako hapa...">{{ form.message.value|default_if_none:'' }}</textarea>
        {{ form.message.errors }}
      </div>

      <label class="consent">
        <input type="checkbox" name="consent" {% if form.consent.value %}checked{% endif %} required>
        <span>Ninakubali mchakato wa matumizi ya taarifa zangu kwa ajili ya mawasiliano ya huduma.</span>
      </label>
      {{ form.consent.errors }}

      <button class="btn-submit" type="submit">Tuma Ujumbe</button>
    </form>

    <!-- Map -->
    <div class="map-section">
      
      <h2>Ramani ya Eneo Letu</h2>
      <div class="map-container" aria-label="Ramani ya ofisi yetu, Mbeya, Tanzania">
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3934.777393626679!2d33.437090715269434!3d-8.91239139433377!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x18548d26fbbb45c3%3A0x6e9c29a07bb3a4bb!2sSoweto%20Block%20T%2C%20Mbeya!5e0!3m2!1ssw!2stz!4v1691839200000!5m2!1ssw!2stz" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade" title="Google Map - Soweto Block T, Mbeya"></iframe>
      </div>
    </div>
  </main>
  </main>

  {% include "footer/footer.html" %}

  <script>
    function toggleMenu() {
      const navUl = document.querySelector('nav ul');
      navUl.classList.toggle('show');
    }

    // form validation
    document.querySelector('.contact-form').addEventListener('submit', function(e) {
      const email = document.getElementById('id_email').value;
      const name = document.getElementById('id_name').value;
      const subject = document.getElementById('id_subject').value;
      const message = document.getElementById('id_message').value;
      const consent = document.querySelector('input[name="consent"]').checked;

      if (!name || !email || !subject || !message || !consent) {
        e.preventDefault();
        alert('Tafadhali jaza sehemu zote zinazohitajika na ukubali sera ya data.');
      } else if (!email.includes('@') || !email.includes('.')) {
        e.preventDefault();
        alert('Tafadhali weka barua pepe halali.');
      } else {
        const button = document.querySelector('.btn-submit');
        button.disabled = true;
        button.innerHTML = 'Inatuma...';
      }
    });
  </script>
</body>
</html>
